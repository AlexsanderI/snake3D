–¢–≤–æ–π –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ö–æ–¥–æ–≤ –¥–ª—è –∑–º–µ–π–∫–∏. –û–Ω –ª–æ–≥–∏—á–µ–Ω, –æ–¥–Ω–∞–∫–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã—Ö –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –º–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å.

---

## üü¢ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
    
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è, –∫—Ä–∞—è –ø–æ–ª—è, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∑–º–µ–∏).
    

---

## üü° –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. **–õ–æ–≥–∏–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤**

- –°–µ–π—á–∞—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `contacts` –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏, –ø—Ä–∏ —ç—Ç–æ–º –µ—ë –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –≤–ø–æ–ª–Ω–µ –æ—á–µ–≤–∏–¥–Ω–æ:
    
    - –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ `contacts.length > 2` –æ–∑–Ω–∞—á–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ö–æ–¥–æ–≤?
        
    - –≠—Ç–æ —á–∏—Å–ª–æ (2) –≤—ã–≥–ª—è–¥–∏—Ç ¬´–º–∞–≥–∏—á–µ—Å–∫–∏–º¬ª –∏ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—è—Å–Ω–µ–Ω–∏–π.
        

### 2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**

- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `checkSnakePos` –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º —Ü–∏–∫–ª–µ, —Ö–æ—Ç—è –æ–±—ä—è–≤–ª–µ–Ω–∞ –≤–Ω–µ. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —Ç—Ä—É–¥–Ω—ã–º –¥–ª—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è.
    

### 3. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —è–≤–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π contact**

- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `contact` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ `snakeCoordCompare` –±–µ–∑ —è–≤–Ω–æ–π –Ω–∞—á–∞–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –≠—Ç–æ –Ω–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ.
    

### 4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –ø–æ–ª—è**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `> getField() + 1`, –≤–æ–∑–º–æ–∂–Ω–æ –∑–¥–µ—Å—å –Ω—É–∂–µ–Ω `>= getField()`, –µ—Å–ª–∏ `getField()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è –ø–æ –∏–Ω–¥–µ–∫—Å—É.
    

### 5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∞–Ω–Ω–µ–≥–æ –≤—ã—Ö–æ–¥–∞ (early return)**

- –°–µ–π—á–∞—Å –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —É–∂–µ –æ—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —Ö–æ–¥–æ–≤ –Ω–µ—Ç (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è).
    

---

## üö© –û—Ü–µ–Ω–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞:

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–û—Ü–µ–Ω–∫–∞|
|---|---|
|–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å|6/10|
|–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å|5/10|
|–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å|5/10|
|–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å|5/10|

---

## üîß –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞:

–ù–∏–∂–µ –±–æ–ª–µ–µ —è—Å–Ω–∞—è –∏ —É–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∏ —á—ë—Ç–∫–æ–π –ª–æ–≥–∏–∫–æ–π:

```typescript
import { SnakeHeadCoord } from '../../types/snakeTypes'
import { getField } from '../field/fieldPerLevel'
import { getObstaclesFixCoord } from '../obstacles/obstaclesFix'
import { getObstaclesXCoord } from '../obstacles/obstaclesX'
import { getObstaclesYCoord } from '../obstacles/obstaclesY'
import { getSnakeBodyCoord } from '../snake/snake'
import snakeCoordCompare from './snakeCoordCompare'

/**
 * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É –∑–º–µ–π–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ö–æ–¥—ã –≤–æ–∫—Ä—É–≥ –≥–æ–ª–æ–≤—ã.
 * @param snakeHeadPos –ü–æ–∑–∏—Ü–∏—è –≥–æ–ª–æ–≤—ã –∑–º–µ–∏
 * @returns true, –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ö–æ–¥–æ–≤, –∏–Ω–∞—á–µ false
 */
function noMoves(snakeHeadPos: SnakeHeadCoord): boolean {
  const obstacles = [
    ...getObstaclesFixCoord(),
    ...getObstaclesXCoord(),
    ...getObstaclesYCoord(),
    ...getSnakeBodyCoord().slice(5), // –∏—Å–∫–ª—é—á–∞–µ–º –ø–µ—Ä–≤—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã, –±–ª–∏–∑–∫–∏–µ –∫ –≥–æ–ª–æ–≤–µ
  ]

  const directions = [
    [1, 0],  // –≤–ø—Ä–∞–≤–æ
    [-1, 0], // –≤–ª–µ–≤–æ
    [0, 1],  // –≤–≤–µ—Ä—Ö
    [0, -1], // –≤–Ω–∏–∑
  ]

  const fieldSize = getField()

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–π —Å–æ—Å–µ–¥–Ω–µ–π –∫–ª–µ—Ç–∫–∏
  for (const [dx, dy] of directions) {
    const newHeadPos: SnakeHeadCoord = {
      snakeHeadCoordX: snakeHeadPos.snakeHeadCoordX + dx,
      snakeHeadCoordY: snakeHeadPos.snakeHeadCoordY + dy,
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –ø–æ–ª—è
    if (
      newHeadPos.snakeHeadCoordX < 0 ||
      newHeadPos.snakeHeadCoordX >= fieldSize ||
      newHeadPos.snakeHeadCoordY < 0 ||
      newHeadPos.snakeHeadCoordY >= fieldSize
    ) {
      continue; // –ö–ª–µ—Ç–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–ª–µ–¥—É—é—â—É—é
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –∏ —Ç–µ–ª–æ –∑–º–µ–∏
    const isBlocked = obstacles.some(pos => {
      const [checkedPos, contact] = snakeCoordCompare(newHeadPos, pos, false)
      return contact
    })

    if (!isBlocked) {
      return false; // –ù–∞—à–ª–∏ —Å–≤–æ–±–æ–¥–Ω—É—é –∫–ª–µ—Ç–∫—É ‚Äî –∑–Ω–∞—á–∏—Ç, —Ö–æ–¥ –µ—Å—Ç—å
    }
  }

  return true; // –í—Å–µ —Å–æ—Å–µ–¥–Ω–∏–µ –∫–ª–µ—Ç–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
}

export default noMoves
```

---

## ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –ª—É—á—à–µ:

- **–õ–æ–≥–∏–∫–∞ —Å—Ç–∞–ª–∞ –±–æ–ª–µ–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π:** –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å–µ–¥–Ω–∏–µ –∫–ª–µ—Ç–∫–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –Ω–∞–ø—Ä—è–º—É—é.
    
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Ä–∞–Ω–Ω–∏–π –≤–æ–∑–≤—Ä–∞—Ç:** —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–∑—É, –∫–∞–∫ —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Å–Ω–æ, —á—Ç–æ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–∞—è –∫–ª–µ—Ç–∫–∞.
    
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á—ë—Ç–∫–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è:** –Ω–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
    
- **–ß—ë—Ç–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –ø–æ–ª—è:** —É–±—Ä–∞–Ω–∞ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç—å.
    
- **–õ–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω—ã ¬´–º–∞–≥–∏—á–µ—Å–∫–∏–µ¬ª —á–∏—Å–ª–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–Ω—è—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.**
    

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥|–£–ª—É—á—à–µ–Ω–Ω—ã–π –∫–æ–¥|
|---|---|---|
|–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å|6/10|9/10|
|–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å|5/10|9/10|
|–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å|5/10|9/10|
|–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å|5/10|9/10|

–¢–µ–ø–µ—Ä—å –∫–æ–¥ —Å—Ç–∞–ª –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω–µ–µ, —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ –∏ –ø—Ä–æ—â–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º —Ä–∞–∑–≤–∏—Ç–∏–∏.