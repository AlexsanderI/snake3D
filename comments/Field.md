Field.tsx

–≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Field` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ 3D-—Å—Ü–µ–Ω–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∏–≥—Ä—ã —Ç–∏–ø–∞ "–ó–º–µ–π–∫–∞" –∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–ª–µ—Ç–æ—á–Ω–æ–π –ª–æ–≥–∏–∫–∏. –û–Ω –Ω–∞–ø–∏—Å–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `@react-three/fiber`. –ù–∏–∂–µ ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –æ—Ü–µ–Ω–∫–∞.

---

### üîç **–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞**

```tsx
import { fieldCONFIG } from '../config/fieldConfig'
import { getField } from '../engine/field/fieldPerLevel'
import { Grid } from './Grid'
import { Line } from './Line'

export const Field = () => {
  const {
    fieldCOLOR: fieldColor,
    fieldRATIO: fieldRatio,
    // fieldSIZE: fieldSize,
  } = fieldCONFIG

  const fieldSize = getField()

  return (
    <group>
      <Grid />
      {/* <Line /> */}
      <mesh position={[0, 0, 0]} receiveShadow>
        <planeGeometry args={[fieldSize * fieldRatio, fieldSize * fieldRatio]} />
        <meshStandardMaterial color={fieldColor} />
      </mesh>
    </group>
  )
}
```

#### üì¶ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

- **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ–ª—è**:
    
    - –¶–≤–µ—Ç, —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑–º–µ—Ä (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω).
        
- **–í—ã—á–∏—Å–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è**: `getField()` ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Ä–æ–≤–Ω—è –∏–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.
    
- **–†–µ–Ω–¥–µ—Ä–∏—Ç –ø–æ–ª–µ –∫–∞–∫ –ø–ª–æ—Å–∫—É—é –ø–ª–æ—Å–∫–æ—Å—Ç—å (`<planeGeometry />`)**:
    
    - –ü–ª–æ—Å–∫–æ—Å—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ –Ω–∞—á–∞–ª–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (`[0, 0, 0]`), –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–Ω–∏ (`receiveShadow`).
        
- **–ú–∞—Ç–µ—Ä–∏–∞–ª** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (`meshStandardMaterial`) —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ü–≤–µ—Ç–æ–º –ø–æ–ª—è.
    
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã**:
    
    - `Grid` ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–µ—Ç–∫—É –ø–æ–ª—è.
        
    - `Line` ‚Äî –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –≤–æ–∑–º–æ–∂–Ω–æ, –¥–ª—è –±—É–¥—É—â–µ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π —Ä–∞–º–∫–∏, –≥—Ä–∞–Ω–∏—Ü, –∏–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã—Ö –æ—Å–µ–π.
        

---

### ‚úÖ **–ü–ª—é—Å—ã**

- üëç **–ß–∏—Å—Ç—ã–π –∏ –º–æ–¥—É–ª—å–Ω—ã–π** –∫–æ–¥ ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ª–æ–≥–∏–∫–∞ (`getField`, `fieldCONFIG`) –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (`Grid`, `mesh`).
    
- üëç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `planeGeometry` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ ‚Äî –ø–æ–ª–µ –±—É–¥–µ—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –ª—é–±–æ–º—É `fieldSize` –∏ `fieldRATIO`.
    
- üëç –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`Line`, `Grid`) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
    
- üëç `receiveShadow` ‚Äî —É–∂–µ –∑–∞–ª–æ–∂–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–Ω–µ–π.
    

---

### ‚ö†Ô∏è **–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å**

1. **–î–æ–±–∞–≤–∏—Ç—å –æ—Å—å –ø–æ–≤–æ—Ä–æ—Ç–∞ –∫ –ø–ª–æ—Å–∫–æ—Å—Ç–∏:**
    
    - –ü–ª–æ—Å–∫–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "—Å–º–æ—Ç—Ä–∏—Ç" –≤–¥–æ–ª—å –æ—Å–∏ Y. –ï—Å–ª–∏ –ø–æ–ª–µ –≤ —Ç–≤–æ–µ–π –∏–≥—Ä–µ "–ª–µ–∂–∏—Ç –Ω–∞ –ø–æ–ª—É", –Ω—É–∂–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—å:
        
    
    ```tsx
    <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]} receiveShadow>
    ```
    
    –ï—Å–ª–∏ —ç—Ç–æ **Two.js-–ø–æ–¥–æ–±–Ω–∞—è** —Å—Ü–µ–Ω–∞ (–≤–∏–¥ —Å–≤–µ—Ä—Ö—É), —Ç–æ–≥–¥–∞ –ø–æ–≤–æ—Ä–æ—Ç –Ω–µ –Ω—É–∂–µ–Ω.
    
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useMemo` –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
    
    - –ï—Å–ª–∏ `fieldSize` –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –º–æ–∂–Ω–æ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä—ã:
        
    
    ```tsx
    const planeSize = useMemo(() => fieldSize * fieldRatio, [fieldSize, fieldRatio])
    ```
    
3. **–ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ –ø—Ä–æ–ø—Å—ã (–¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏):**
    
    - –í —Ç–µ–∫—É—â–µ–º –≤–∏–¥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∂—ë—Å—Ç–∫–æ —Å–≤—è–∑–∞–Ω —Å –≤–Ω–µ—à–Ω–∏–º –∫–æ–Ω—Ñ–∏–≥–æ–º.
        
    - –õ—É—á—à–µ –±—ã–ª–æ –±—ã —Å–¥–µ–ª–∞—Ç—å `Field` —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º, –Ω–∞–ø—Ä–∏–º–µ—Ä:
        
    
    ```tsx
    export const Field = ({
      size,
      color,
      ratio
    }: {
      size: number
      color: string
      ratio: number
    }) => { ... }
    ```
    
    –¢–æ–≥–¥–∞ –µ–≥–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –∏–ª–∏ —Ç–µ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.
    
4. **–¢–µ—Å—Ç–æ–≤–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ `Line`:**
    
    - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –∑–∞—á–µ–º –æ–Ω–∞ ‚Äî —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –±—ã–ª–æ —è—Å–Ω–æ.
        

---

### üß† **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Field` —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω, –º–æ–¥—É–ª—å–Ω—ã–π –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π. –û–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é ‚Äî –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ ‚Äî –∏ –ø—Ä–∏ —ç—Ç–æ–º –∑–∞–ª–æ–∂–µ–Ω –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∏ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

---

### üîß **–†–µ–π—Ç–∏–Ω–≥: 9.2 / 10**

‚Äî –æ—Ç–ª–∏—á–Ω–∞—è –æ—Å–Ω–æ–≤–∞, –Ω–µ–º–Ω–æ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π —Å—Ü–µ–Ω—ã.  
–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–≥—É –ø–æ–º–æ—á—å —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –ø–æ–ª—è –∏–∑ —Ç–∞–π–ª–æ–≤ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø–æ–ª—è –ø—Ä–∏ —Å–æ–±—ã—Ç–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–º–µ—è –µ—Å—Ç –µ–¥—É).