–∫–æ–º–ø–æ–Ω–µ–Ω—Ç **Scene.tsx**

–ù–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ **React Three Fiber (R3F)** ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è **3D-—Å—Ü–µ–Ω–∞** —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∑–º–µ–π–∫–∏ (`Snake`), —è–±–ª–æ–∫–∞ (`Apple`), –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è (`Field`) –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`Environment`). –ö–∞–º–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `cameraConfig`.

---

## üì¶ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥?

### üé• –ö–∞–º–µ—Ä–∞

ts

CopyEdit

`const { camera } = useThree()`

- –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –∫–∞–º–µ—Ä—É –∏–∑ `Three.js`.
    

ts

CopyEdit

`const [x, y, z] = cameraCONFIG.position const [xx, yy, zz] = cameraCONFIG.rotation camera.position.set(x, y, z) camera.rotation.set(xx, yy, zz)`

- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è **–ø–æ–∑–∏—Ü–∏—è** –∏ **—É–≥–ª—ã –ø–æ–≤–æ—Ä–æ—Ç–∞ –∫–∞–º–µ—Ä—ã** –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.
    

üìå –≠—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ **–≤ —Ç–µ–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**, –∞ –Ω–µ –≤ `useEffect` ‚Äî —ç—Ç–æ **–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ—Ä–µ–Ω–¥–µ—Ä**, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (–æ–± —ç—Ç–æ–º –Ω–∏–∂–µ).

---

### üîÅ `useFrame` ‚Äî –∞–Ω–∏–º–∞—Ü–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä

ts

CopyEdit

`useFrame((_, delta) => {   camera.position.x = camera.position.x + speed * delta   camera.updateProjectionMatrix() })`

- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã –Ω–∞ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ (–ø–æ `x`) –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `speed` –∏ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–¥—Ä–∞ (`delta`).
    
- `speed` —Ä–∞–≤–µ–Ω `0`, —Ç–∞–∫ —á—Ç–æ –ø–æ–∫–∞ –∫–∞–º–µ—Ä–∞ –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è ‚Äî —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —ç—Ç–æ –∑–∞–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–¥ –±—É–¥—É—â—É—é –¥–∏–Ω–∞–º–∏–∫—É.
    

---

### üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Å—Ü–µ–Ω–µ

tsx

CopyEdit

`<Snake /> <Apple /> <Field /> <Environment />`

–í—Å–µ –æ–Ω–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å—Ü–µ–Ω—ã. `Perf` –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –Ω–æ –±—ã–ª –±—ã –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ FPS –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---

## ‚úÖ –û—Ü–µ–Ω–∫–∞

|–ö—Ä–∏—Ç–µ—Ä–∏–π|–û—Ü–µ–Ω–∫–∞|–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π|
|---|---|---|
|**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**|9/10|–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ü–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–∞–º–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è|
|**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**|7/10|–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–º–µ—Ä—ã –≤–Ω–µ `useEffect` ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –º–∏–Ω—É—Å|
|**–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**|9/10|–ß–∏—Å—Ç—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥|
|**–ì–∏–±–∫–æ—Å—Ç—å**|8/10|–ü–æ–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞–º–µ—Ä–∞ –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ|

---

## üí° –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

### 1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–º–µ—Ä—ã –≤ `useEffect`

ts

CopyEdit

`useEffect(() => {   camera.position.set(...cameraCONFIG.position)   camera.rotation.set(...cameraCONFIG.rotation) }, [camera])`

> üìå –≠—Ç–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã **–∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏** –ø–æ–∑–∏—Ü–∏–∏/–≤—Ä–∞—â–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä.

---

### 2. ‚öôÔ∏è –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–∏–Ω–∞–º–∏–∫–∏ –∫–∞–º–µ—Ä—ã

–°–µ–π—á–∞—Å `speed = 0`, –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è. –í –±—É–¥—É—â–µ–º —Ç—ã –º–æ–∂–µ—à—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—á–µ—Ä–µ–∑ `useState`, `useControls`, –∏–ª–∏ Zustand) –∏ –¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é/–ª–æ–≥–∏–∫–µ –º–µ–Ω—è—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å.

---

### 3. üß™ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å `Perf` —Å Leva

tsx

CopyEdit

`const { performance } = useControls('Monitoring', {   performance: true, })  {performance && <Perf position='top-left' />}`

–≠—Ç–æ –¥–∞—ë—Ç —Ç–µ–±–µ —É–¥–æ–±–Ω—ã–π —Ç—É–º–±–ª–µ—Ä –≤ UI ‚Äî –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ FPS –∏ Draw Calls.

---

## üß† –í—ã–≤–æ–¥

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Scene` ‚Äî —ç—Ç–æ **—è–¥—Ä–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏** —Ç–≤–æ–µ–π 3D-–∏–≥—Ä—ã, –≥—Ä–∞–º–æ—Ç–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π. –ö–∞–º–µ—Ä–∞ –∑–∞–¥–∞—ë—Ç—Å—è –≤—Ä—É—á–Ω—É—é, –æ–±—ä–µ–∫—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞ `useFrame` –ø–æ–¥–∫–ª—é—á—ë–Ω –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏.