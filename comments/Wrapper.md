Wrapper.tsx

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Wrapper` ‚Äî —ç—Ç–æ **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏–≥—Ä–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**, –∫–æ—Ç–æ—Ä—ã–π –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (`GameInfo`) –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç **—Å–µ–Ω—Å–æ—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (touch events)** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –û–Ω —Ç–∞–∫–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å —Å–∏—Å—Ç–µ–º–æ–π —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏–∑ –∏–≥—Ä–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞.

---

### üîç **–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞**

```tsx
import { ReactNode } from 'react'
import GameInfo from './GameInfo'
import swipeDirectionEvent from '../engine/events/swipeDirectionEvent'
import { setTouch } from '../engine/events/touchEvent'
import protocolExecutor from '../engine/protocol/protocolExecutor'
// import GameButtons from "../GameButtons/GameButtons";
import { useMenuStore } from '../store/menuStore'
import '../styles/wrapper.css'

export function Wrapper({ children }: { children: ReactNode }) {
  const { isVisible } = useMenuStore()

  const startTouch = (e: React.TouchEvent<HTMLDivElement>) => {
    const touches = e.changedTouches
    setTouch('start', touches[0].clientX, touches[0].clientY)
  }

  const endTouch = (e: React.TouchEvent<HTMLDivElement>) => {
    const touches = e.changedTouches
    setTouch('end', touches[0].clientX, touches[0].clientY)

    if (!isVisible) {
      protocolExecutor(swipeDirectionEvent())
    }
  }

  return (
    <div className='wrapper' onTouchStart={startTouch} onTouchEnd={endTouch}>
      <GameInfo />
      {children}
      {/* <GameButtons /> */}
    </div>
  )
}
```

---

### ‚úÖ **–ü–ª—é—Å—ã**

- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤** —á–µ—Ä–µ–∑ `onTouchStart` –∏ `onTouchEnd`.
    
- ‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏ swipe-—Å–æ–±—ã—Ç–∏–π**: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞—Å–∞–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `setTouch` –∏ `swipeDirectionEvent`, —á—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –∏ –æ—Ç–¥–µ–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –æ—Ç UI.
    
- ‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞, –µ—Å–ª–∏ –≤–∏–¥–∏–º–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (`isVisible`).
    
- ‚úÖ **–•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω**: `GameInfo` + `children` + (–≤–æ–∑–º–æ–∂–Ω—ã–π) `GameButtons` –¥–µ–ª–∞—é—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º.
    

---

### ‚ö†Ô∏è **–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å**

1. **üßº –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –∫–æ–¥ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ `touches[0]`:**
    
    - –õ—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
        
        ```tsx
        const { clientX, clientY } = e.changedTouches[0]
        setTouch('start', clientX, clientY)
        ```
        
2. **üß™ –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è `changedTouches[0]`:**
    
    - –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–∏—Ç—É–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–≥ –Ω–∞ —Å—Ç–∞—Ä–æ–º Android), –≥–¥–µ –º–∞—Å—Å–∏–≤ –±—É–¥–µ—Ç –ø—É—Å—Ç.
        
    - –î–æ–±–∞–≤—å –ø—Ä–æ–≤–µ—Ä–∫—É:
        
        ```tsx
        if (!e.changedTouches.length) return
        ```
        
3. **üí° –°–ª–∞–±–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å `if (!isVisible)`**
    
    - –õ—É—á—à–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É —Å–≤–∞–π–ø–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:
        
        ```tsx
        const handleSwipe = () => {
          if (!isVisible) protocolExecutor(swipeDirectionEvent())
        }
        ```
        
4. **üìõ –ù–∞–∑–≤–∞–Ω–∏–µ `Wrapper` —Å–ª–∏—à–∫–æ–º –æ–±—â–µ–µ**
    
    - –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: `GameWrapper`, `TouchWrapper`, `GameplayLayout`, —Ç.–ø.
        
5. **üîÅ `GameButtons` –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω**
    
    - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏–º —Ä–µ–Ω–¥–µ—Ä–æ–º —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ (–µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è), –ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é.
        
6. **üì¶ –ù–∏–∫–∞–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `useCallback`**
    
    - –ï—Å–ª–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç `Wrapper`, —Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ `startTouch` –∏ `endTouch` –±—É–¥—É—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è. –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö `props` –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º ‚Äî `useCallback` –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å.
        

---

### üß† **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Wrapper` –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∏–≥—Ä–æ–≤—É—é —Å—Ü–µ–Ω—É, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ –æ—Å—Ç–∞—ë—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º. –û–Ω –ø—Ä–æ—Å—Ç –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –∏–≥—Ä –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

---

### üîß **–û—Ü–µ–Ω–∫–∞: 8.8 / 10**

‚úÖ –£–¥–æ–±–Ω—ã–π, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π  
‚ö† –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç edge-case  
üí° –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–ª—É—á—à–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å `useCallback`, –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∫–∞—Å–∞–Ω–∏–π –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º `GameButtons`.