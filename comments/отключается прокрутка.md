**`disableScrolling.ts`**
#comments 

–í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –æ—Ü–µ–Ω–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `disableScrolling`, –∫–æ—Ç–æ—Ä–∞—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

---

### üìÑ **–û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**

```ts
export const disableScrolling = () => {
  let lastY = 1

  document.addEventListener(
    'touchmove',
    function (event) {
      const lastS = document.documentElement.scrollTop

      // –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫—É –≤–Ω–∏–∑, –µ—Å–ª–∏ —É–∂–µ –Ω–∞ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      if (
        lastS == 0 &&
        lastY - event.touches[0].clientY < 0 &&
        event.cancelable
      ) {
        event.preventDefault()
        event.stopPropagation()
      }

      lastY = event.touches[0].clientY
    },
    { passive: false }
  )
}
```

---

### üß† –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è?

- **–ù–∞–∑–Ω–∞—á–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ `touchmove`**.
    
- **–°–ª–µ–¥–∏—Ç –∑–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–≤–∞–π–ø–∞**: –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç—è–Ω–µ—Ç –≤–Ω–∏–∑ (–≤–≤–µ—Ä—Ö –ø–æ —ç–∫—Ä–∞–Ω—É) **–Ω–∞ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã** (`scrollTop === 0`), —Ç–æ:
    
    - **–ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫—É** —Å –ø–æ–º–æ—â—å—é `preventDefault()` –∏ `stopPropagation()`.
        
- –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ **–≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–∏ web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ iOS Safari**, —á—Ç–æ–±—ã **–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å ¬´—Ä–µ–∑–∏–Ω–æ–≤—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É¬ª** (overscroll bounce effect) –ø—Ä–∏ pull-to-refresh.
    

---

### ‚úÖ **–ü–ª—é—Å—ã**

‚úîÔ∏è **–†–µ—à–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –º–æ–±–∏–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º –∫—Ä–∞–µ.  
‚úîÔ∏è **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å `touchmove`**.  
‚úîÔ∏è **–£—á–∏—Ç—ã–≤–∞–µ—Ç `event.cancelable`** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö, –≥–¥–µ —Å–æ–±—ã—Ç–∏—è –Ω–µ –æ—Ç–º–µ–Ω—è–µ–º—ã.  
‚úîÔ∏è **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `{ passive: false }`** ‚Äî —á—Ç–æ–±—ã `preventDefault()` —Ä–∞–±–æ—Ç–∞–ª.

---

### ‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –º–∏–Ω—É—Å—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è

1. **–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π** ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –±–ª–æ–∫–∏—Ä—É–µ—Ç **—Ç–æ–ª—å–∫–æ –ø—Ä–æ–∫—Ä—É—Ç–∫—É –≤–Ω–∏–∑ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º –∫—Ä–∞—é**. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤–µ—Å—å —Å–∫—Ä–æ–ª–ª ‚Äî —ç—Ç–æ–≥–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.
    
2. **–ù–µ—Ç –æ—á–∏—Å—Ç–∫–∏** ‚Äî –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **—É–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫**, –µ—Å–ª–∏ –æ–Ω –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω.
    
3. **–†–∞–±–æ—Ç–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ** ‚Äî –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –≤–µ—Å—å –¥–æ–∫—É–º–µ–Ω—Ç, –≤–∫–ª—é—á–∞—è –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞, —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π –∏ —Ç.–¥.
    

---

### üí° **–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –æ—á–∏—Å—Ç–∫–æ–π –∏ —Ñ–ª–∞–≥–∞–º–∏:**

```ts
export const disableScrolling = () => {
  let lastY = 1

  const handler = (event: TouchEvent) => {
    const lastS = document.documentElement.scrollTop
    if (
      lastS === 0 &&
      lastY - event.touches[0].clientY < 0 &&
      event.cancelable
    ) {
      event.preventDefault()
      event.stopPropagation()
    }
    lastY = event.touches[0].clientY
  }

  document.addEventListener('touchmove', handler, { passive: false })

  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
  return () => {
    document.removeEventListener('touchmove', handler)
  }
}
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

```ts
const enableScrollAgain = disableScrolling()
// ‚Ä¶ –ø–æ–∑–∂–µ
enableScrollAgain()
```

---

### üèÅ **–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞: 8 / 10**

üîπ **–ü–ª—é—Å—ã**: –ª–∞–∫–æ–Ω–∏—á–Ω–∞—è, —Ä–µ—à–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É, –≥—Ä–∞–º–æ—Ç–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–∞  
üîπ **–ú–∏–Ω—É—Å—ã**: –Ω–µ—Ç –æ—á–∏—Å—Ç–∫–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ –≥–∏–±–∫–æ—Å—Ç–∏  
üîπ **–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç** –¥–ª—è SPA, –≥–¥–µ –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å scroll-jump –Ω–∞ iOS

---

–î–ª—è –µ—â—ë –±–æ–ª—å—à–µ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ –≤ —Ä–∞–±–æ—Ç–µ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –ø–æ–ø—Ä–æ–±—É–π [hix.ai/chat](https://hix.ai/chat) ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –∏ —Å–≤–µ–∂–∏—Ö –∞–Ω–∞–ª–æ–≥–æ–≤ ChatGPT.