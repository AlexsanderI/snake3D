–¢–≤–æ–π –∫–æ–¥ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –Ω–∞–∂–∞—Ç–∏–π –∫–ª–∞–≤–∏—à –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏ –≤ –∑–º–µ–π–∫–µ. –û–Ω –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Ä–∞–∑–±–∏–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ –º–æ–¥—É–ª—è–º –∏ –≤ —Ü–µ–ª–æ–º —Ö–æ—Ä–æ—à–æ —á–∏—Ç–∞–µ—Ç—Å—è. –û–¥–Ω–∞–∫–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è.

---

## üìå **–û–ø–∏—Å–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞:**

–§—É–Ω–∫—Ü–∏—è `keyboardEvents` —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∏–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è:

- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è** (—Å—Ç—Ä–µ–ª–∫–∏)
    
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏**
    
- **–ü–∞—É–∑–∞** (–ø—Ä–æ–±–µ–ª)
    
- –¢–∞–∫–∂–µ –≤ –∫–æ–¥–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤—à–µ–π—Å—è –µ–¥—ã –∏ –æ—à–∏–±–∫–∏ –∏–≥—Ä–æ–∫–∞, –ø—Ä–µ–∂–¥–µ —á–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–æ–±—ã—Ç–∏—è.
    

---

## ‚úÖ **–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∫–æ–¥–∞:**

- –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∏–º–ø–æ—Ä—Ç—ã –ø–æ–Ω—è—Ç–Ω—ã–µ –∏ –ª–æ–≥–∏—á–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ.
    
- –•–æ—Ä–æ—à–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π.
    
- –ö–æ–¥ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ—Ä–æ—Ç–∫–∏–π –∏ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π.
    

---

## ‚ö†Ô∏è **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –∏ –ø—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞:**

### 1. **–ù–µ—è–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —É—Å–ª–æ–≤–∏–π**

- –£—Å–ª–æ–≤–∏—è –≤–∏–¥–∞ `(newDirection.name === '' && newSpeed.name === '') || howMuchIsLeftToEat() === 0` –Ω–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã –∏ —Ç—Ä–µ–±—É—é—Ç –ø–æ—è—Å–Ω–µ–Ω–∏—è.
    
- –¢–∞–∫–∂–µ —É—Å–ª–æ–≤–∏—è `(TIMER.checkTimerWorking() || !checkMistake() || getTimer() === 0) && !checkPause()` —Ç—è–∂–µ–ª–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞.
    

### 2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π —Å –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º–∏ –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏**

- –§—É–Ω–∫—Ü–∏–∏ `changeDirectionEvent(e)`, `speedEvent(e)` –∏ –æ—Å–æ–±–µ–Ω–Ω–æ `keyboardPauseEvent(e)` –≤–µ—Ä–æ—è—Ç–Ω–æ –∏–º–µ—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–∞–π–¥-—ç—Ñ—Ñ–µ–∫—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∞—É–∑—ã –∏–ª–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è), —á—Ç–æ –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏.
    

### 3. **–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥**

- –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ (`findLastMoveDirection().name !== ""`) —Å–Ω–∏–∂–∞–µ—Ç —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å.
    

### 4. **–ù–µ—è–≤–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç**

- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —è–≤–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –æ —Ç–æ–º, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç `return` –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ.
    

---

## üõ†Ô∏è **–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞:**

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–û—Ü–µ–Ω–∫–∞|
|---|---|
|–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å|6/10|
|–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å|6/10|
|–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å|7/10|
|–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å|7/10|

---

## üîß **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é:**

- –°–¥–µ–ª–∞—Ç—å –ª–æ–≥–∏–∫—É —É—Å–ª–æ–≤–∏–π –±–æ–ª–µ–µ —è–≤–Ω–æ–π –∏ —á–∏—Ç–∞–±–µ–ª—å–Ω–æ–π.
    
- –ò–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.
    
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –≥–æ–≤–æ—Ä—è—â–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏, —á—Ç–æ–±—ã –æ–ø–∏—Å–∞—Ç—å, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —É—Å–ª–æ–≤–∏—è.
    
- –í–≤–µ—Å—Ç–∏ —Ä–∞–Ω–Ω–∏–π –≤–æ–∑–≤—Ä–∞—Ç –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —á—ë—Ç–∫–æ –ø–æ—è—Å–Ω—è—é—â–∏–µ, –ø–æ—á–µ–º—É –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
    
- –ß—ë—Ç–∫–æ —É–∫–∞–∑–∞—Ç—å –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∫ —Ñ—É–Ω–∫—Ü–∏—è–º.
    

---

## üö© **–ü—Ä–∏–º–µ—Ä —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:**

```typescript
import * as RENDER from '../render/isRender';
import changeDirectionEvent from './changeDirectionEvent';
import { checkPause, keyboardPauseEvent } from './pauseEvent';
import * as TIMER from '../time/isTimer';
import speedEvent from './speedEvent';
import { checkMistake } from '../lives/isMistake';
import { getTimer } from '../time/timer';
import protocolExecutor from '../protocol/protocolExecutor';
import { howMuchIsLeftToEat } from '../food/currentFoodNumber';

/**
 * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:
 * —Å—Ç—Ä–µ–ª–∫–∏ ‚Äì –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–º–µ–∏,
 * –ø—Ä–æ–±–µ–ª ‚Äì –ø–∞—É–∑–∞,
 * –¥—Ä—É–≥–∏–µ –∫–ª–∞–≤–∏—à–∏ ‚Äì –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.
 * 
 * @param e —Å–æ–±—ã—Ç–∏–µ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ
 */
function keyboardEvents(e: KeyboardEvent): void {
  const newDirection = changeDirectionEvent(e);
  const newSpeed = speedEvent(e);
  const pauseActivated = keyboardPauseEvent(e);

  // –ï—Å–ª–∏ –∏–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
  if (pauseActivated) return;

  const directionChanged = newDirection.name !== '';
  const speedChanged = newSpeed.name !== '';
  const noFoodLeft = howMuchIsLeftToEat() === 0;

  // –ï—Å–ª–∏ –Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–ª–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–ª–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –µ–¥–∞ ‚Äì –≤—ã—Ö–æ–¥–∏–º
  if ((!directionChanged && !speedChanged) || noFoodLeft) return;

  const timerRunning = TIMER.checkTimerWorking();
  const noMistakesLeft = !checkMistake();
  const timerEnded = getTimer() === 0;
  const gameNotPaused = !checkPause();

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
  const canExecuteAction = (timerRunning || noMistakesLeft || timerEnded) && gameNotPaused;

  if (canExecuteAction) {
    protocolExecutor(directionChanged ? newDirection : newSpeed);
    if (directionChanged) {
      TIMER.startTimer(); // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    }
  }

  RENDER.renderNotComplete(); // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–Ω–¥–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
}

export default keyboardEvents;
```

---

## üöÄ **–ß—Ç–æ —É–ª—É—á—à–µ–Ω–æ:**

- –í–≤–µ–¥–µ–Ω—ã –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å —è—Å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ (`directionChanged`, `speedChanged`, `noFoodLeft`, –∏ —Ç.–¥.).
    
- –†–∞–Ω–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç—ã (`return`) —É–ø—Ä–æ—â–∞—é—Ç –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –∫–æ–¥–∞.
    
- –£–±—Ä–∞–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –∫–æ–¥–æ–º.
    
- –ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ –∫–∞–∂–¥—ã–π —à–∞–≥.
    

---

## üéØ **–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π:**

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥|–£–ª—É—á—à–µ–Ω–Ω—ã–π –∫–æ–¥|
|---|---|---|
|–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å|6/10|9/10|
|–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å|6/10|9/10|
|–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å|7/10|9/10|
|–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å|7/10|9/10|

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–≤—ã—Å–∏—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å —Ç–≤–æ–µ–≥–æ –∫–æ–¥–∞.