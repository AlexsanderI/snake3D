–¢–≤–æ–π –∫–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç –¥–æ–≤–æ–ª—å–Ω–æ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º, –æ–¥–Ω–∞–∫–æ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç —É–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É.

---

## üü¢ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:

- –ß—ë—Ç–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
    
- –ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –æ–±—â–µ–π –ª–æ–≥–∏–∫–∏.
    
- –•–æ—Ä–æ—à–∞—è –∏–∑–æ–ª—è—Ü–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –µ–¥—ã –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ).
    

---

## üü† –ß—Ç–æ —Å—Ç–æ–∏—Ç —É–ª—É—á—à–∏—Ç—å:

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –µ–¥—ã

- –°–µ–π—á–∞—Å –ª–æ–≥–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫–æ–≤–∞, —á—Ç–æ –æ–Ω–∞ –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ–¥—É, –µ—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ –µ–¥—ã –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ. –õ—É—á—à–µ —è–≤–Ω–æ —Å–æ–æ–±—â–∏—Ç—å –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç—É —Å–∏—Ç—É–∞—Ü–∏—é.
    

### 2. –£—Ç–æ—á–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–æ–≤

- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å `booking.concat(...)` –ø–æ–Ω—è—Ç–Ω–∞, –Ω–æ —á—É—Ç—å —É–¥–æ–±–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä `[...a, ...b, ...c]`.
    

### 3. –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –µ–¥—ã

- –°–µ–π—á–∞—Å –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `FOOD.setFoodCoord([foodX, foodY])` —Å–Ω–æ–≤–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `FOOD.getFoodCoord()`. –≠—Ç–æ –ª–∏—à–Ω—è—è –æ–ø–µ—Ä–∞—Ü–∏—è. –õ—É—á—à–µ —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è.
    

### 4. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –Ω–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫

- `getFreeCell` –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã. –õ—É—á—à–µ —è–≤–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ—Ç —Å–ª—É—á–∞–π.
    

### 5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –¥–ª—è –∏–º—ë–Ω —Å–æ–±—ã—Ç–∏–π

- –ò–º—è —Å–æ–±—ã—Ç–∏—è `"set food"` —Å—Ç–æ–∏—Ç –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ –∏–∑-–∑–∞ –æ–ø–µ—á–∞—Ç–æ–∫ –∏ –æ–±–ª–µ–≥—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è.
    

---

## üö© –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞:

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è:

```typescript
import getFreeCell from "../field/getFreeCell";
import { getCurrentFoodNumber } from "../food/currentFoodNumber";
import { getAmountOfFood } from "../food/amountOfFoodPerLevel";
import { getSnakeBodyCoord } from "../snake/snake";
import { getObstaclesFixCoord } from "../obstacles/obstaclesFix";
import { getObstaclesXCoord } from "../obstacles/obstaclesX";
import { getObstaclesYCoord } from "../obstacles/obstaclesY";
import { setFoodCoord } from "../food/food";
import { addEvent } from "../protocol/protocol";

const EVENT_SET_FOOD = "set food";

/**
 * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã X –∏ Y —Ç–µ–∫—É—â–µ–π –µ–¥—ã, –∑–∞–Ω–æ—Å–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª.
 */
function setFoodEvent(): void {
  if (getCurrentFoodNumber() > getAmountOfFood()) {
    console.warn("Max amount of food reached. Skipping food generation.");
    return;
  }

  const occupiedCells = [
    ...getObstaclesFixCoord(),
    ...getObstaclesXCoord(),
    ...getObstaclesYCoord(),
    ...getSnakeBodyCoord(),
  ];

  const [foodX, foodY] = getFreeCell(occupiedCells);

  if (foodX === undefined || foodY === undefined) {
    console.error("No free cells available to place food.");
    return;
  }

  setFoodCoord([foodX, foodY]);

  addEvent({
    name: EVENT_SET_FOOD,
    value: `${foodX}:${foodY}`,
  });
}

export default setFoodEvent;
```

---

## üîç –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

- –î–æ–±–∞–≤–ª–µ–Ω–∞ —è–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ –Ω–µ–ª—å–∑—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –µ–¥—ã.
    
- –£–ª—É—á—à–µ–Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.
    
- –£–¥–∞–ª–µ–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.
    
- –ò–º—è —Å–æ–±—ã—Ç–∏—è `"set food"` –≤—ã–Ω–µ—Å–µ–Ω–æ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Å–Ω–∏–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫.
    
- –Ø—Å–Ω–æ –æ–±–æ–∑–Ω–∞—á–µ–Ω—ã –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ (`console.warn`, `console.error`), —á—Ç–æ–±—ã –æ–±–ª–µ–≥—á–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É.
    

---

## üìå –û—Ü–µ–Ω–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞:

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥|–ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π|
|---|---|---|
|–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å|7/10|9/10|
|–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å|7/10|9/10|
|–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å|6/10|9/10|

–ü—Ä–∏–º–µ–Ω–∏–≤ —ç—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ç—ã –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—Å–∏—à—å –∫–∞—á–µ—Å—Ç–≤–æ, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ—Å—Ç–æ—Ç—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–≤–æ–µ–≥–æ –∫–æ–¥–∞.